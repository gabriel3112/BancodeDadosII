CREATE DATABASE Biblioteca;
USE Biblioteca;

CREATE TABLE autor (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(50) NOT NULL,
    nacionalidade VARCHAR(20),
    data_nascimento DATE NOT NULL,
    biografia TEXT
);

CREATE TABLE livro (
    id INT PRIMARY KEY AUTO_INCREMENT,
    titulo VARCHAR(100) NOT NULL,
    autor_id INT,
    ano_publicacao INT,
    genero VARCHAR(20),
    descricao TEXT,
    disponibilidade VARCHAR(15),
    editora VARCHAR(50),
    FOREIGN KEY (autor_id) REFERENCES autor(id)
);

CREATE TABLE usuario (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(50) NOT NULL,
    email VARCHAR(50),
    telefone VARCHAR(20),
    matricula VARCHAR(20),
    data_cadastro DATE NOT NULL
);

CREATE TABLE emprestimo (
    id INT PRIMARY KEY AUTO_INCREMENT,
    id_usuario INT NOT NULL,
    id_livro INT NOT NULL,
    data_emprestimo DATE NOT NULL,
    data_devolucao_prevista DATE NOT NULL,
    data_devolucao_real DATE,
    status_emprestimo VARCHAR(20),
    dias_atrasado VARCHAR(4),
    FOREIGN KEY (id_usuario) REFERENCES usuario(id),
    FOREIGN KEY (id_livro) REFERENCES livro(id)
);

CREATE TABLE reserva (
    id INT PRIMARY KEY AUTO_INCREMENT,
    id_usuario INT NOT NULL,
    id_livro INT NOT NULL,
    data_reserva DATE NOT NULL,
    status_reserva VARCHAR(20),
    data_limite DATE,
    FOREIGN KEY (id_usuario) REFERENCES usuario(id),
    FOREIGN KEY (id_livro) REFERENCES livro(id)
);

INSERT INTO autor (nome, nacionalidade, data_nascimento)
 VALUES 
('Alice Munro', 'Canadense', '1931-07-10'),
('Gabriel García Márquez', 'Colombiano', '1927-03-06'),
('Haruki Murakami', 'Japonês', '1949-01-12'),
('Margaret Atwood', 'Canadense', '1939-11-18'),
('J.K. Rowling', 'Britânica', '1965-07-31'),
('Stephen King', 'Americano', '1947-09-21'),
('Isabel Allende', 'Chilena', '1942-08-02'),
('Chimamanda Ngozi Adichie', 'Nigeriana', '1977-09-15'),
('Neil Gaiman', 'Britânico', '1960-11-10'),
('George R.R. Martin', 'Americano', '1948-09-20'),
('José Saramago', 'Português', '1922-11-16'),
('Clarice Lispector', 'Brasileira', '1920-12-10'),
('Machado de Assis', 'Brasileiro', '1839-06-21'),
('Lygia Fagundes Telles', 'Brasileira', '1923-04-19'),
('Carlos Drummond de Andrade', 'Brasileiro', '1902-10-31'),
('Philip Roth', 'Americano', '1933-03-19'),
('Franz Kafka', 'Alemão', '1883-07-03'),
('Virginia Woolf', 'Britânica', '1882-01-25'),
('Leo Tolstoy', 'Russo', '1828-09-09'),
('Fyodor Dostoevsky', 'Russo', '1821-11-11'),
('Albert Camus', 'Francês', '1913-11-07'),
('Italo Calvino', 'Italiano', '1923-10-15'),
('Umberto Eco', 'Italiano', '1932-01-05'),
('Marcel Proust', 'Francês', '1871-07-10'),
('William Faulkner', 'Americano', '1897-09-25'),
('Ernest Hemingway', 'Americano', '1899-07-21'),
('Jorge Luis Borges', 'Argentino', '1899-08-24'),
('Oscar Wilde', 'Irlandês', '1854-10-16'),
('James Joyce', 'Irlandês', '1882-02-02'),
('H.G. Wells', 'Britânico', '1866-09-21'),
('Mary Shelley', 'Britânica', '1797-08-30'),
('Bram Stoker', 'Irlandês', '1847-11-08'),
('Agatha Christie', 'Britânica', '1890-09-15'),
('Arthur Conan Doyle', 'Britânico', '1859-05-22'),
('Edgar Allan Poe', 'Americano', '1809-01-19'),
('Jules Verne', 'Francês', '1828-02-08'),
('Mark Twain', 'Americano', '1835-11-30'),
('George Orwell', 'Britânico', '1903-06-25'),
('Aldous Huxley', 'Britânico', '1894-07-26'),
('Ray Bradbury', 'Americano', '1920-08-22');

INSERT INTO livro (titulo, autor_id, ano_publicacao, genero, descricao, disponibilidade, editora) 
VALUES
('Cem Anos de Solidão', 2, 1967, 'Romance', 'Saga da família Buendía em Macondo.', 'Disponível', 'Editora Sul'),
('Ensaio Sobre a Cegueira', 11, 1995, 'Ficção', 'Metáfora social sobre uma epidemia de cegueira.', 'Disponível', 'Companhia das Letras'),
('1984', 38, 1949, 'Distopia', 'Sociedade controlada por um governo totalitário.', 'Emprestado', 'Penguin Books'),
('O Iluminado', 6, 1977, 'Terror', 'Família isolada em hotel assombrado.', 'Disponível', 'Suma de Letras'),
('O Hobbit', 5, 1937, 'Fantasia', 'Aventura de Bilbo Bolseiro na Terra Média.', 'Disponível', 'Martins Fontes'),
('As Crônicas de Gelo e Fogo', 10, 1996, 'Fantasia', 'Jogo de tronos entre nobres de Westeros.', 'Emprestado', 'Leya'),
('A Metamorfose', 17, 1915, 'Ficção', 'Homem vira inseto da noite pro dia.', 'Disponível', 'Companhia das Letras'),
('O Nome da Rosa', 22, 1980, 'Mistério', 'Crime em monastério medieval.', 'Emprestado', 'Record'),
('O Conto da Aia', 4, 1985, 'Distopia', 'Sociedade que subjuga mulheres.', 'Disponível', 'Rocco'),
('Dom Casmurro', 13, 1899, 'Romance', 'Bentinho e o possível adultério de Capitu.', 'Disponível', 'Ática'),
('Memórias Póstumas de Brás Cubas', 13, 1881, 'Romance', 'Narrativa irônica de um defunto autor.', 'Disponível', 'Martin Claret'),
('A Revolução dos Bichos', 38, 1945, 'Fábula', 'Animais rebelam-se contra fazendeiro.', 'Emprestado', 'Companhia das Letras'),
('O Velho e o Mar', 25, 1952, 'Aventura', 'Pescador luta contra marlim gigante.', 'Disponível', 'Bertrand Brasil'),
('Mrs. Dalloway', 18, 1925, 'Romance', 'Um dia na vida de Clarissa Dalloway.', 'Disponível', 'Penguin Classics'),
('O Lobo das Estepes', 20, 1927, 'Filosofia', 'Conflito existencial de Harry Haller.', 'Disponível', 'Record'),
('O Processo', 17, 1925, 'Suspense', 'Homem preso sem saber o motivo.', 'Emprestado', 'Companhia das Letras'),
('Os Irmãos Karamazov', 19, 1880, 'Romance', 'Conflito moral e religioso entre irmãos.', 'Disponível', '34'),
('A Sangue Frio', 25, 1966, 'Crime', 'Relato real de assassinato.', 'Disponível', 'Companhia das Letras'),
('O Senhor dos Anéis', 5, 1954, 'Fantasia', 'Jornada para destruir o Um Anel.', 'Emprestado', 'Martins Fontes'),
('O Guia do Mochileiro das Galáxias', 39, 1979, 'Ficção Científica', 'Humor e aventura no espaço.', 'Disponível', 'Arqueiro'),
('A Máquina do Tempo', 30, 1895, 'Ficção Científica', 'Viagem ao futuro.', 'Disponível', 'Zahar'),
('Frankenstein', 31, 1818, 'Terror', 'Monstro criado por cientista.', 'Disponível', 'DarkSide'),
('Drácula', 32, 1897, 'Terror', 'Conde vampiro aterrorizando Londres.', 'Emprestado', 'DarkSide'),
('Assassinato no Expresso Oriente', 33, 1934, 'Mistério', 'Crime em trem de luxo.', 'Disponível', 'HarperCollins'),
('Sherlock Holmes: O Cão dos Baskervilles', 34, 1902, 'Mistério', 'Detetive investiga lenda de monstro.', 'Disponível', 'HarperCollins'),
('O Corvo e Outros Poemas', 35, 1845, 'Poesia', 'Obra de horror e mistério.', 'Disponível', 'Principis'),
('Viagem ao Centro da Terra', 36, 1864, 'Aventura', 'Expedição ao interior da Terra.', 'Emprestado', 'Zahar'),
('As Aventuras de Tom Sawyer', 37, 1876, 'Infantojuvenil', 'Travessuras de um garoto.', 'Disponível', 'L&PM'),
('Fahrenheit 451', 40, 1953, 'Distopia', 'Futuro onde livros são proibidos.', 'Disponível', 'Globo Livros'),
('Os Pilares da Terra', 6, 1989, 'Histórico', 'Construção de catedral na Idade Média.', 'Emprestado', 'Rocco'),
('O Silêncio dos Inocentes', 6, 1988, 'Suspense', 'Investigadora e psicopata.', 'Disponível', 'Record'),
('Harry Potter e a Pedra Filosofal', 5, 1997, 'Fantasia', 'Menino descobre ser bruxo.', 'Disponível', 'Rocco'),
('A História Sem Fim', 39, 1979, 'Fantasia', 'Garoto entra em livro mágico.', 'Disponível', 'Martins Fontes'),
('Admirável Mundo Novo', 39, 1932, 'Distopia', 'Futuro controlado por manipulação genética.', 'Emprestado', 'Globo'),
('O Médico e o Monstro', 31, 1886, 'Terror', 'Dualidade entre bem e mal.', 'Disponível', 'Principis'),
('Os Miseráveis', 20, 1862, 'Drama', 'Injustiça social na França.', 'Disponível', 'Martins Fontes'),
('Crime e Castigo', 20, 1866, 'Drama', 'Estudante comete assassinato.', 'Emprestado', '34'),
('Anna Karenina', 19, 1877, 'Romance', 'Tragédia amorosa na aristocracia.', 'Disponível', 'Companhia das Letras'),
('A Insustentável Leveza do Ser', 20, 1984, 'Romance', 'Relacionamentos em meio à opressão.', 'Disponível', 'Companhia das Letras'),
('O Mundo de Sofia', 5, 1991, 'Filosofia', 'História da filosofia para jovens.', 'Disponível', 'Seguinte');

INSERT INTO usuario (nome, email, telefone, data_cadastro) 
VALUES
('Gabriel Silva', 'gabriel@email.com', '11999990001', '2024-01-15'),
('Gabriel Souza', 'maria@email.com', '11999990002', '2024-01-20'),
('João Souza', 'joao@email.com', '11999990003', '2024-01-22'),
('Cristina Maria', 'ana@email.com', '11999990004', '2024-02-05'),
('Carlos Lima', 'carlos@email.com', '11999990005', '2024-02-10'),
('Luiz Claudio', 'beatriz@email.com', '11999990006', '2024-02-15'),
('Lucas Rocha', 'lucas@email.com', '11999990007', '2024-02-20'),
('Fernanda Alves', 'fernanda@email.com', '11999990008', '2024-02-25'),
('Pedro Martins', 'pedro@email.com', '11999990009', '2024-03-01'),
('Julia Nunes', 'julia@email.com', '11999990010', '2024-03-05'),
('Marcos Pires', 'marcos@email.com', '11999990011', '2024-03-10'),
('Paula Ribeiro', 'paula@email.com', '11999990012', '2024-03-12'),
('Rafael Barros', 'rafael@email.com', '11999990013', '2024-03-15'),
('Camila Ferreira', 'camila@email.com', '11999990014', '2024-03-18'),
('Thiago Cardoso', 'thiago@email.com', '11999990015', '2024-03-20'),
('Larissa Azevedo', 'larissa@email.com', '11999990016', '2024-03-22'),
('Bruno Santos', 'bruno@email.com', '11999990017', '2024-03-25'),
('Sabrina Lopes', 'sabrina@email.com', '11999990018', '2024-03-28'),
('André Vieira', 'andre@email.com', '11999990019', '2024-03-30'),
('Daniela Castro', 'daniela@email.com', '11999990020', '2024-04-01'),
('Eduardo Moura', 'eduardo@email.com', '11999990021', '2024-04-03'),
('Patrícia Souza', 'patricia@email.com', '11999990022', '2024-04-05'),
('Felipe Carvalho', 'felipe@email.com', '11999990023', '2024-04-08'),
('Aline Duarte', 'aline@email.com', '11999990024', '2024-04-10'),
('Leonardo Batista', 'leonardo@email.com', '11999990025', '2024-04-12'),
('Vanessa Gomes', 'vanessa@email.com', '11999990026', '2024-04-14'),
('Gustavo Almeida', 'gustavo@email.com', '11999990027', '2024-04-16'),
('Letícia Mendes', 'leticia@email.com', '11999990028', '2024-04-18'),
('Henrique Melo', 'henrique@email.com', '11999990029', '2024-04-20'),
('Cecília Dias', 'cecilia@email.com', '11999990030', '2024-04-22'),
('Vinícius Braga', 'vinicius@email.com', '11999990031', '2024-04-24'),
('Isabela Prado', 'isabela@email.com', '11999990032', '2024-04-26'),
('Rodrigo Nascimento', 'rodrigo@email.com', '11999990033', '2024-04-28'),
('Helena Martins', 'helena@email.com', '11999990034', '2024-04-30'),
('Fábio Barros', 'fabio@email.com', '11999990035', '2024-05-01'),
('Natália Moreira', 'natalia@email.com', '11999990036', '2024-05-02'),
('Alex Costa', 'alex@email.com', '11999990037', '2024-05-03'),
('Raquel Freitas', 'raquel@email.com', '11999990038', '2024-05-04'),
('Wesley Tavares', 'wesley@email.com', '11999990039', '2024-05-05'),
('Viviane Santos', 'viviane@email.com', '11999990040', '2024-05-06');

INSERT INTO emprestimo (id_usuario, id_livro, data_emprestimo, data_devolucao_prevista, data_devolucao_real, status_emprestimo)
VALUES
(1, 5, '2024-05-01', '2024-05-10', '2024-05-09', 'Devolvido'),
(2, 10, '2024-05-02', '2024-05-12', NULL, 'Em Andamento'),
(3, 15, '2024-04-20', '2024-04-30', '2024-05-02', 'Atrasado'),
(4, 20, '2024-05-03', '2024-05-13', NULL, 'Em Andamento'),
(5, 25, '2024-05-04', '2024-05-14', '2024-05-13', 'Devolvido'),
(6, 30, '2024-05-05', '2024-05-15', NULL, 'Em Andamento'),
(7, 35, '2024-04-15', '2024-04-25', '2024-04-23', 'Devolvido'),
(8, 40, '2024-05-06', '2024-05-16', NULL, 'Em Andamento'),
(9, 2, '2024-05-07', '2024-05-17', '2024-05-17', 'Devolvido'),
(10, 4, '2024-05-08', '2024-05-18', NULL, 'Em Andamento'),
(11, 6, '2024-05-09', '2024-05-19', NULL, 'Em Andamento'),
(12, 8, '2024-05-10', '2024-05-20', NULL, 'Em Andamento'),
(13, 12, '2024-04-28', '2024-05-08', '2024-05-07', 'Devolvido'),
(14, 16, '2024-04-29', '2024-05-09', '2024-05-10', 'Atrasado'),
(15, 18, '2024-05-11', '2024-05-21', NULL, 'Em Andamento'),
(16, 22, '2024-05-12', '2024-05-22', NULL, 'Em Andamento'),
(17, 24, '2024-05-13', '2024-05-23', NULL, 'Em Andamento'),
(18, 26, '2024-04-20', '2024-04-30', '2024-04-30', 'Devolvido'),
(19, 28, '2024-04-22', '2024-05-02', '2024-05-01', 'Devolvido'),
(20, 32, '2024-04-24', '2024-05-04', '2024-05-05', 'Atrasado'),
(21, 34, '2024-04-26', '2024-05-06', NULL, 'Em Andamento'),
(22, 36, '2024-05-14', '2024-05-24', NULL, 'Em Andamento'),
(23, 38, '2024-05-15', '2024-05-25', NULL, 'Em Andamento'),
(24, 1, '2024-05-16', '2024-05-26', NULL, 'Em Andamento'),
(25, 3, '2024-05-17', '2024-05-27', NULL, 'Em Andamento'),
(26, 7, '2024-05-18', '2024-05-28', NULL, 'Em Andamento'),
(27, 9, '2024-05-19', '2024-05-29', NULL, 'Em Andamento'),
(28, 11, '2024-05-20', '2024-05-30', NULL, 'Em Andamento'),
(29, 13, '2024-05-21', '2024-05-31', NULL, 'Em Andamento'),
(30, 14, '2024-05-22', '2024-06-01', NULL, 'Em Andamento'),
(31, 17, '2024-05-23', '2024-06-02', NULL, 'Em Andamento'),
(32, 19, '2024-05-24', '2024-06-03', NULL, 'Em Andamento'),
(33, 21, '2024-05-25', '2024-06-04', NULL, 'Em Andamento'),
(34, 23, '2024-05-26', '2024-06-05', NULL, 'Em Andamento'),
(35, 27, '2024-05-27', '2024-06-06', NULL, 'Em Andamento'),
(36, 29, '2024-05-28', '2024-06-07', NULL, 'Em Andamento'),
(37, 31, '2024-05-29', '2024-06-08', NULL, 'Em Andamento'),
(38, 33, '2024-05-30', '2024-06-09', NULL, 'Em Andamento'),
(39, 37, '2024-05-31', '2024-06-10', NULL, 'Em Andamento'),
(40, 39, '2024-06-01', '2024-06-11', NULL, 'Em Andamento');

INSERT INTO Reserva (id_usuario, id_livro, data_reserva, status_reserva) 
VALUES
(1, 10, '2024-05-01', 'Ativa'),
(2, 15, '2024-05-02', 'Ativa'),
(3, 20, '2024-05-03', 'Cancelada'),
(4, 25, '2024-05-04', 'Ativa'),
(5, 30, '2024-05-05', 'Concluída'),
(6, 35, '2024-05-06', 'Ativa'),
(7, 40, '2024-05-07', 'Ativa'),
(8, 2, '2024-05-08', 'Concluída'),
(9, 4, '2024-05-09', 'Ativa'),
(10, 6, '2024-05-10', 'Ativa'),
(11, 8, '2024-05-11', 'Cancelada'),
(12, 12, '2024-05-12', 'Concluída'),
(13, 14, '2024-05-13', 'Ativa'),
(14, 16, '2024-05-14', 'Ativa'),
(15, 18, '2024-05-15', 'Ativa'),
(16, 22, '2024-05-16', 'Concluída'),
(17, 24, '2024-05-17', 'Ativa'),
(18, 26, '2024-05-18', 'Ativa'),
(19, 28, '2024-05-19', 'Cancelada'),
(20, 32, '2024-05-20', 'Ativa'),
(21, 34, '2024-05-21', 'Ativa'),
(22, 36, '2024-05-22', 'Ativa'),
(23, 38, '2024-05-23', 'Ativa'),
(24, 1, '2024-05-24', 'Concluída'),
(25, 3, '2024-05-25', 'Ativa'),
(26, 5, '2024-05-26', 'Ativa'),
(27, 7, '2024-05-27', 'Ativa'),
(28, 9, '2024-05-28', 'Ativa'),
(29, 11, '2024-05-29', 'Cancelada'),
(30, 13, '2024-05-30', 'Ativa'),
(31, 17, '2024-05-31', 'Ativa'),
(32, 19, '2024-06-01', 'Concluída'),
(33, 21, '2024-06-02', 'Ativa'),
(34, 23, '2024-06-03', 'Ativa'),
(35, 27, '2024-06-04', 'Cancelada'),
(36, 29, '2024-06-05', 'Ativa'),
(37, 31, '2024-06-06', 'Ativa'),
(38, 33, '2024-06-07', 'Ativa'),
(39, 37, '2024-06-08', 'Ativa'),
(40, 39, '2024-06-09', 'Ativa');
